# LunarLink

[![img](https://img.shields.io/badge/Python-%3D3.9.x-green.svg)](https://python.org/) [![PyPI - Django Version badge](https://img.shields.io/badge/django%20versions-3.2-blue)](https://docs.djangoproject.com/zh-hans/3.2/) [![img](https://img.shields.io/badge/node-%3E%3D%2012.0.0-brightgreen)](https://nodejs.org/zh-cn/)

## å¹³å°ç®€ä»‹

åŸºäºHttpRunner + Django + Vue + Element UI çš„æ¥å£è‡ªåŠ¨åŒ–æµ‹è¯•å¹³å°ï¼Œç”Ÿäº§å¯ç”¨ã€‚

æ­¤å¤–ï¼Œéå¸¸æ„Ÿè°¢ [èŠ±èœ](https://github.com/lihuacai168)ã€‚æ²¡æœ‰ AnotherFasterRunner å°±ä¸ä¼šæœ‰ LunarLink :)

## æŠ€æœ¯æ ˆ

- [x]  ğŸ¨ Django
- [x]  ğŸ¶ Django Rest framework
- [x]  ğŸ‰ Vue.js
- [x]  ğŸƒ Element UI
- [x] ğŸ django-celery-beatï¼ˆå®šæ—¶ä»»åŠ¡ï¼‰
- [x]  ğŸ² Nginxï¼ˆåå‘ä»£ç†ï¼Œhttpsé…ç½®ç­‰ï¼‰
- [x] ğŸ‘Ÿ HttpRunnerï¼ˆæµ‹è¯•ç”¨ä¾‹æ‰§è¡Œå¼•æ“ï¼‰
- [x]  ğŸ”’ RabbitMQ
- [x]  ğŸšš Redis
- [x]  ğŸ’ MySQL
- [x] â› Docker

## åŠŸèƒ½æ¨¡å—

- ç™»å½•ï¼šè´¦å·è®¤è¯ã€ç”¨æˆ·ç®¡ç†ã€æƒé™ç®¡ç†
- é¡¹ç›®ç®¡ç†ï¼šæ–°å¢é¡¹ç›®ã€åˆ—è¡¨å±•ç¤ºåŠç›¸å…³æ“ä½œï¼Œæ”¯æŒé¡¹ç›®çœ‹æ¿ï¼Œæ˜¾ç¤ºé¡¹ç›®æ¯æ—¥ã€æ¯å‘¨ã€æ¯æœˆä¸åŒç»´åº¦æ•°æ®
- é¡¹ç›®æ¦‚è§ˆï¼šé¡¹ç›®åŸºæœ¬ä¿¡æ¯ï¼ŒAPIã€æµ‹è¯•ç”¨ä¾‹ã€ä»»åŠ¡æ‰§è¡Œæ€»è§ˆï¼Œæ¯æ—¥æ˜ç»†
- APIæ¨¡æ¿ï¼šä¸€ä¸ªAPIå¯¹åº”åç«¯ä¸€ä¸ªHTTPæ¥å£ï¼ŒAPIå¯ä»¥å•ç‹¬è¿è¡Œï¼Œä¹Ÿå¯ä»¥ä½œä¸ºä¸€ä¸ªç”¨ä¾‹æ­¥éª¤ï¼Œæ”¯æŒAPIåˆ†ç»„ã€å‚æ•°æå–ã€æ•°æ®æ–­è¨€ã€å˜é‡å¼•ç”¨ã€å‰åç½®é’©å­å‡½æ•°ã€æ¥å£è°ƒè¯•ã€æ—¥å¿—æ˜¾ç¤º
- æ¥å£å¯¼å…¥ï¼šæ”¯æŒåŒæ­¥YApi ï¼ˆä»¥YApi åšåª’ä»‹é—´æ¥æ”¯æŒSwaggerã€Postmanã€Harï¼‰ï¼Œæ— éœ€æ‰‹åŠ¨å½•å…¥æ¥å£
- æµ‹è¯•ç”¨ä¾‹ï¼šæ”¯æŒåˆ†ç»„ç®¡ç†ï¼Œç”±ä¸€ä¸ªæˆ–å¤šä¸ªAPIç»„æˆï¼Œæ”¯æŒå…³è”æ¥å£çš„åŠ¨æ€å‚æ•°ä¼ é€’ï¼Œä¸åŒºåˆ†åœºæ™¯ç”¨ä¾‹å’Œå•æ¥å£ç”¨ä¾‹ï¼Œæ”¯æŒåŒæ­¥ã€å¼‚æ­¥æ‰¹é‡æ‰§è¡Œï¼Œç”Ÿæˆæµ‹è¯•æŠ¥å‘Š
- é…ç½®ç®¡ç†ï¼šè‡ªå®šä¹‰ä¸åŒé…ç½®çš„è¯·æ±‚base_urlåœ°å€ï¼Œå…¬å…±è¯·æ±‚å¤´å‚æ•°ã€å±€éƒ¨å˜é‡ã€å‰åç½®é’©å­å‡½æ•°ã€å‚æ•°åŒ–å†…å®¹ï¼ŒAPIå’Œç”¨ä¾‹å¯ä»¥é€‰æ‹©ä¸åŒé…ç½®æ‰§è¡Œ
- å…¨å±€å˜é‡ï¼šå®šä¹‰å˜é‡ä¾›APIä½¿ç”¨ï¼Œå˜é‡å€¼ä¹Ÿå¯ä»¥å¼•ç”¨é©±åŠ¨ä»£ç ä¸­çš„å‡½æ•°ï¼Œé€šç”¨è´¦å·ã€ç§˜é’¥å¯ä»¥å®šä¹‰åœ¨æ­¤å¤„
- é©±åŠ¨ä»£ç ï¼šæ”¯æŒPythonè„šæœ¬ï¼Œå®šä¹‰å‰åç½®é’©å­å‡½æ•°ã€è¾…åŠ©å‡½æ•°å¯ä»¥è½»æ¾å®ç°è¯·æ±‚å‚æ•°ç­¾åï¼ŒåŠ å¯†å’Œè§£å¯†å“åº”ç­‰åŠŸèƒ½
- å®šæ—¶ä»»åŠ¡ï¼šå¯è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œéµå¾ªcrontabè¡¨è¾¾å¼ï¼Œå¯åœ¨çº¿å¼€å¯ã€å…³é—­ï¼Œç”¨ä¾‹æ‰§è¡Œæ”¯æŒä¸²è¡Œã€å¹¶è¡Œï¼Œå®Œæˆåæµ‹è¯•æŠ¥å‘Šæ¨é€ä¼ä¸šå¾®ä¿¡
- å†å²æŠ¥å‘Šï¼šä¿å­˜å®šæ—¶ã€è°ƒè¯•ã€å¼‚æ­¥ç­‰ä¸åŒç±»å‹çš„æµ‹è¯•æŠ¥å‘Šï¼Œå¯åœ¨çº¿æŸ¥çœ‹ã€ç­›é€‰ã€åˆ é™¤ï¼Œè¿˜å¯æŸ¥çœ‹ä»–äººæµ‹è¯•æŠ¥å‘Š

## åœ¨çº¿ä½“éªŒ

ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ç”Ÿäº§åœ°å€ï¼š[http://47.119.28.171:8081](http://47.119.28.171:8081)

- ä½“éªŒè´¦å·ï¼štest
- å¯†ç ï¼štest2023

##  å‡†å¤‡å·¥ä½œ

```
Python >= 3.9.5 (æ¨è3.9.xç‰ˆæœ¬)
nodejs >= 16.0 (æ¨èæœ€æ–°)
Mysql >= 5.7.0 (æ¨è5.7.xç‰ˆæœ¬)
RabbitMQ >= 3.x-management(é»˜è®¤éœ€è¦ï¼Œæ¨èæœ€æ–°ç‰ˆ)
Redis >= 6.2.6
```

##  å‰ç«¯ â™

å»ºè®®ä½¿ç”¨yarnï¼Œé¡¹ç›®æä¾›äº†`yarn.lock`ï¼Œä½¿ç”¨å…¶ä»–åŒ…ç®¡ç†å™¨ï¼Œå®¹æ˜“å‡ºç°ç‰ˆæœ¬ä¾èµ–é—®é¢˜ã€‚

```bash
# å…‹éš†é¡¹ç›®
git clone https://github.com/tahitimoon/LunarLink.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd LunarLink/frontend

# å®‰è£…ä¾èµ–
yarn install --registry=https://registry.npmmirror.com

# å¯åŠ¨æœåŠ¡
yarn start
# æµè§ˆå™¨è®¿é—® http://127.0.0.1:8888
# config/index.js æ–‡ä»¶å¯é…ç½®å¯åŠ¨ç«¯å£ç­‰å‚æ•°
# config/dev.env.js æ–‡ä»¶å¯é…ç½®åç«¯æ¥å£åœ°å€
# config/prod.env.js æ–‡ä»¶ä¿æŒä¸å˜
# æ„å»ºç”Ÿäº§ç¯å¢ƒ
# yarn build
```

##  åç«¯ ğŸ’ˆ

```bash
# å…‹éš†é¡¹ç›®
git https://github.com/tahitimoon/LunarLink.git

# è¿›å…¥é¡¹ç›®ç›®å½•
cd LunarLink/backend

# å°†.env.exampleæ–‡ä»¶é‡å‘½åä¸º.env å¹¶é…ç½®ç›¸å…³å‚æ•°
mv .env.example .env

# å®‰è£…ä¾èµ–ç¯å¢ƒ
pip3 install -r requirements.txt

# æ‰§è¡Œè¿ç§»å‘½ä»¤ï¼š
python3 manage.py makemigrations
python3 manage.py migrate

# åˆ›å»ºç®¡ç†å‘˜ç”¨æˆ·
python3 manage.py createsuperuser

# å¯åŠ¨é¡¹ç›®
python3 manage.py runserver
```

##  è®¿é—®é¡¹ç›®

```bash
æµè§ˆå™¨æ‰“å¼€:
http://127.0.0.1:8888
ç”¨æˆ·/å¯†ç :ç®¡ç†å‘˜ç”¨æˆ·/å¯†ç 
æ¥å£æ–‡æ¡£åœ°å€:
http://127.0.0.1:8000/swagger/
```

## å¼€å¯å®šæ—¶/å¼‚æ­¥ä»»åŠ¡

```bash
# å¯åŠ¨celeryï¼Œåœ¨æ§åˆ¶å°æ‰§è¡Œ
celery -A backend worker -B --loglevel=info
```

##  æ¼”ç¤ºå›¾ âœ…

![](screenshots/1.png)

![](screenshots/2.png)

![](screenshots/3.png)

![](screenshots/4.png)

##  Dockeræ„å»º
è¯·å‚è€ƒæ–‡æ¡£[Dockeræ„å»º](deployment/README.md)
